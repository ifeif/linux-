sudo useradd -m hadoop -s /bin/bash	#添加用户hadoop，m:创建用户的家目录，s:指定shell命令解释器
sudo passwd hadoop	#给新用户设置密码
sudo adduser hadoop sudo	#将hadoop用户添加到sudo组中，拥有超级权限
切换到hadoop用户

安装ssh
sudo apt update
sudo apt install ssh -y
ssh配置
ssh 127.0.0.1
cd ~/.ssh
ssh-keygen -t rsa
cat ./id_rsa.pub >> ./authorized_keys
exit

安装java开发环境
sudo apt-get install default-jdk default-jre
配置java环境变量
vim ~/.bashrc
export JAVA_HOME=/usr/lib/jvm/default-java	#添加JAVA_HOME环境变量
执行环境变量配置脚本
source ~/.bashrc
检查环境变量
echo $JAVA_HOME	#查看shell变量值
java -version	#查看java版本

部署hadoop开发包
输出校验码
cat hadoop-2.6.0.tar.gz.mds | 'MD5'
查看hadoop包校验码
md5sum hadoop-2.6.0.tar.gz | tr 'a-z' 'A-Z'
解压hadoop开发包
sudo tar -zxf hadoop-2.6.0.tar.gz -C /usr/local
cd /usr/local
sudo mv ./hadoop-2.6.0 ./hadoop	#重命名文件夹
更改文件拥有者为hadoop用户
sudo chown -R hadoop ./hadoop	#-R递归更改文件夹下的所有文件的拥有者为hadoop
cd /usr/local/hadoop
./bin/hadoop version	#查看hadoop版本

字符串检索：
mkdir input
将要检索的文件放入input文件夹
cp ./etc/hadoop/*.xml input
./bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-*.jar grep ./input ./output 'dfs[a-z.]+'#最后一个参数为检索的字符串
cat output/*	#输出检索的内容

词频统计：
mkdir workspace
gedit WordCount.java	#编辑代码
export PATH=$JAVA_HOME/bin:$PATH
export HADOOP_CLASSPATH=$JAVA_HOME/lib/tools.jar
../bin/hadoop com.sun.tools.javac.Main WordCount.java	#编译WordCount.java
jar cf WordCount.jar WordCount*.class		#将目录下的class文件归档为jar包 cf：创建归档文件

创建两个文件：
echo 'Hello World Bye World' > file01
cat file01
echo 'HelloHadoop Goodbye Hadoop' > file02
cat file02

使用bin/hadoop脚本来运行WordCount.jar
./bin/hadoop jar workspace/WordCount.jar WordCount input output